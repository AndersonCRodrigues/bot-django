{% extends "base.html" %}
{% load static %}

{% block title %}Escolha sua Aventura{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;">
    <h1 style="font-size: 2.5em; color: #f59e0b; margin-bottom: 40px; text-align: center;">
        ðŸŽ® Escolha sua Aventura
    </h1>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 30px;">
        {% for adventure in adventures %}
        <div style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-radius: 12px; overflow: hidden; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease, box-shadow 0.3s ease;"
             onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 12px 40px rgba(0, 0, 0, 0.4)'"
             onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 8px 32px rgba(0, 0, 0, 0.3)'">

            {% if adventure.cover %}
            <img src="{{ adventure.cover.url }}" alt="{{ adventure.title }}"
                 style="width: 100%; height: 250px; object-fit: cover;">
            {% else %}
            <div style="width: 100%; height: 250px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); display: flex; align-items: center; justify-content: center;">
                <span style="font-size: 4em;">ðŸ“š</span>
            </div>
            {% endif %}

            <div style="padding: 25px;">
                <h2 style="color: #f59e0b; font-size: 1.5em; margin-bottom: 15px;">{{ adventure.title }}</h2>

                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <span style="background: #3b82f6; color: white; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">
                        {{ adventure.get_genre_display }}
                    </span>
                    <span style="background: #8b5cf6; color: white; padding: 4px 12px; border-radius: 12px; font-size: 0.85em;">
                        {{ adventure.get_difficulty_display }}
                    </span>
                </div>

                <p style="color: #cbd5e1; line-height: 1.6; margin-bottom: 20px;">
                    {{ adventure.description|truncatewords:30 }}
                </p>

                <a href="{% url 'game:detail' adventure.pk %}"
                   style="display: block; width: 100%; padding: 12px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; text-align: center; text-decoration: none; border-radius: 8px; font-weight: bold; transition: all 0.3s ease;"
                   onmouseover="this.style.transform='scale(1.05)'"
                   onmouseout="this.style.transform='scale(1)'">
                    JOGAR AGORA
                </a>
            </div>
        </div>
        {% empty %}
        <div style="grid-column: 1 / -1; text-align: center; padding: 60px; color: #94a3b8;">
            <span style="font-size: 4em; display: block; margin-bottom: 20px;">ðŸ“š</span>
            <h3 style="color: #cbd5e1; margin-bottom: 10px;">Nenhuma aventura disponÃ­vel</h3>
            <p>FaÃ§a upload de livros no painel admin para comeÃ§ar a jogar.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
